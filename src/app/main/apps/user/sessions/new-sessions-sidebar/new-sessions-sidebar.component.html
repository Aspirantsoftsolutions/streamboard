<div class="slideout-content">
  <!-- Modal to add new user starts-->
  <div class="modalsd modal-slide-in sdfade new-user-modal" id="modals-slide-in">
    <div class="modal-dialog">
      <form class="add-new-user modal-content pt-0" (ngSubmit)="(newUserForm.form.valid)" #newUserForm="ngForm">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
          (click)="toggleSidebar('new-sessions-sidebar')">
          Ã—
        </button>
        <div class="modal-header mb-1">
          <h5 class="modal-title" id="exampleModalLabel">{{'New Session' | translate}}</h5>
        </div>

        <!-- <div class="modal-body flex-grow-1">
          <div class="form-group">
            <label class="form-label" for="basic-icon-default-description">Title</label>
            <input type="text" class="form-control dt-full-name" id="basic-icon-default-fullname" placeholder="Title"
              name="user-title" [(ngModel)]="title"
              [class.error]="newUserForm.submitted && FNameRef.invalid" #FNameRef="ngModel" required
              aria-label="Title" aria-describedby="basic-icon-default-fullname2" />
            <span *ngIf="newUserForm.submitted && FNameRef.invalid" class="invalid-form">
              <small class="form-text text-danger" *ngIf="FNameRef.errors.required">{{'This field is required!' | translate}}</small>
            </span>
          </div> -->
        <div class="modal-body flex-grow-1">
          <div class="form-group">
            <label class="form-label" for="basic-icon-default-description">{{'Title' | translate}}</label>
            <input type="text" class="form-control dt-full-name" id="basic-icon-default-fullname"
              placeholder="{{'Title' | translate}}" name="user-title" [(ngModel)]="title"
              [class.error]="newUserForm.submitted && FNameRef.invalid" #FNameRef="ngModel" required aria-label="Title"
              aria-describedby="basic-icon-default-fullname2" />
            <span *ngIf="newUserForm.submitted && FNameRef.invalid" class="invalid-form">
              <small class="form-text text-danger" *ngIf="FNameRef.errors.required">{{'This field is required!' | translate}}</small>
            </span>
          </div>
          <div class="form-group">
            <label class="form-label" for="basic-icon-default-description">{{'Description' | translate}}</label>
            <input type="text" class="form-control dt-full-name" id="basic-icon-default-fullname"
              placeholder="{{'Description'| translate}}" name="user-description" [(ngModel)]="description"
              [class.error]="newUserForm.submitted && FNameRef.invalid" #FNameRef="ngModel" required
              aria-label="Description" aria-describedby="basic-icon-default-fullname2" />
            <span *ngIf="newUserForm.submitted && FNameRef.invalid" class="invalid-form">
              <small class="form-text text-danger" *ngIf="FNameRef.errors.required">{{'This field is required!' | translate}}</small>
            </span>
          </div>


          <div class="form-group position-relative" *ngIf="isDateDisplay()">
            <label for="start-date" class="form-label">{{'Start Date' | translate}}</label>
            <ng2-flatpickr [config]="startDateOptions" name="startDate" [setDate]="startDate" #startDatePicker required>
            </ng2-flatpickr>
          </div>
          <div class="form-group position-relative" *ngIf="isDateDisplay()">
            <label for="end-date" class="form-label">{{'End Date' | translate}}</label>
            <ng2-flatpickr [config]="endDateOptions" name="endDate" [setDate]="endDate" #endDatePicker required>
            </ng2-flatpickr>
          </div>

          <!-- <ngb-timepicker [(ngModel)]="basicTP"></ngb-timepicker> -->
          <div class="form-group mb-2" *ngIf="isToInvite()">
            <label class="form-label" for="group">{{'Participants' | translate}}</label>
            <select id="group" class="form-control" name='group' [(ngModel)]="group">
              <option value="{{item._id}}" *ngFor="let item of groupRows">{{item.name}}</option>
            </select>
          </div>

          <div class="form-group mb-2" *ngIf="getCurrentUser().role === 'School'">
            <label class="form-label" for="group">{{'Host' | translate}}</label>
            <select id="host" class="form-control" name='host' [(ngModel)]="host">
              <option value="{{host.userId}}" *ngFor="let host of hosts">{{host.username}}</option>
            </select>
          </div>

          <div class="form-group" *ngIf="isToInvite()">
            <label class="form-label" for="basic-icon-default-description">{{'Invite participants by email' | translate}}</label>
            <ng-multiselect-dropdown class="mb-2" id="_id" name='username' placeholder="{{'Select students' | translate}}"
              [settings]="classDropdownSettings" [data]="users" [(ngModel)]="selectedUsers" name="user-emailids"
              (onSelect)="onItemSelect($event)" (onSelectAll)="onSelectAll($event)" (onDeSelect)="onDeselect($event)"
              (onDeSelectAll)="onDeselectAll($event)" (onFilterChange)="search($event)"
              [class.error]="newUserForm.submitted && FNameRef.invalid" #FNameRef="ngModel">
            </ng-multiselect-dropdown>
            <span *ngIf="newUserForm.submitted && FNameRef.invalid" class="invalid-form">
              <small class="form-text text-danger" *ngIf="FNameRef.errors.required">{{'This field is required!' | translate}}</small>
            </span>
          </div>

          <button type="submit" class="btn btn-primary mr-1" (click)="submit(newUserForm)" rippleEffect>{{'Submit' | translate}}</button>
          <button type="reset" class="btn btn-outline-secondary" (click)="toggleSidebar('new-sessions-sidebar')"
            rippleEffect>
            {{'Cancel' | translate}}
          </button>
        </div>
      </form>
    </div>
  </div>
  <!-- Modal to add new user Ends-->
</div>